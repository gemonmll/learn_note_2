**简短回答：是的。**
你在 Docker 容器中以 **普通用户 jzm** 执行 `sudo` 时，
**实际上获得的是容器内部的 root 权限（UID=0），不是宿主机的 root。**

下面我详细讲清楚这个机制。

---

# ✅ 1. `sudo` 永远只作用于“当前系统”

你当前是在 **Docker 容器内部**。

容器内部的用户系统、root、sudoers、权限管理完全独立于宿主机。

因此在容器里：

```
jzm (UID=1000)
sudo → 切换为容器内的 root (UID=0)
```

**不会影响宿主机**
**不会使用宿主机的 root**
**不会访问宿主机的 /etc/shadow /etc/passwd**

---

# ✅ 2. 容器内 root 与宿主机 root 是完全独立的

容器里的 root：

* UID=0（容器内部）
* 权限只能作用于容器的文件系统
* 文件系统隔离
* 权限隔离（除非手动 --privileged 提升）

宿主机里的 root：

* UID=0（宿主机）
* 不会因为你在容器里 sudo 就被使用

**Docker 不是虚拟机，但它完全隔离用户权限体系。**

---

# ✅ 3. 如果你执行 sudo，实际发生的是：

你之前创建用户时做过：

```
echo "jzm ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
```

这允许：

```bash
jzm → sudo → 容器内 root
```

等价于：

```
容器内的 suid 切换
```

你不会接触到宿主机 root。

---

# 🧪 你可以验证（100% 能看到区别）

在容器中执行：

```
id
sudo id
```

你会看到：

### jzm 用户：

```
uid=1000(jzm) gid=1000(jzm) groups=1000(jzm)
```

### sudo 后（容器 root）：

```
uid=0(root) gid=0(root) groups=0(root)
```

再看看宿主机 root：

在宿主机外执行：

```
id
```

会显示完全不同。

---

# ⭐ 4. 注意：即使你在容器里是“root”，你也无法得到宿主机 root

除非你明确加了下面两种危险参数：

```
--privileged
-v /:/host
```

否则：

* 无法访问宿主机 /etc
* 无法访问宿主机 root 文件
* 无法修改宿主机系统

你给的 docker run 参数没有开启这些危险权限，很安全。

---

# 📌 总结

### ✔ 在容器中以 jzm 执行 sudo → 得到的是容器内部 root

### ❌ 不是宿主机 root

### ✔ 不会影响宿主机

### ✔ 两套权限完全隔离

### ✔ sudo 是容器内部的权限提升

---

如果你愿意，我还能帮你：

* 检查你的 Docker 容器里用户和 sudo 的配置
* 设置容器内自动创建非 root 用户
* 为你创建专业的 PX4 + QGC + ROS2 Docker 环境（最优模板）

你需要这个吗？
